<!DOCTYPE html>
<script type="text/javascript">
    fetch('/api/Context/InsightsKey')
        .then((response) => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            response.json();
        })
        .then((data) => {
            if (data && data.instrumentationKey) {
                console.log(data);
                var sdkInstance = 'appInsightsSDK';
                window[sdkInstance] = 'appInsights';
                var aiName = window[sdkInstance],
                    aisdk =
                        window[aiName] ||
                        (function (n) {
                            var o = { config: n, initialize: !0 },
                                t = document,
                                e = window,
                                i = 'script';
                            setTimeout(function () {
                                var e = t.createElement(i);
                                (e.src = n.url || 'https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js'), t.getElementsByTagName(i)[0].parentNode.appendChild(e);
                            });
                            try {
                                o.cookie = t.cookie;
                            } catch (e) {}

                            function a(n) {
                                o[n] = function () {
                                    var e = arguments;
                                    o.queue.push(function () {
                                        o[n].apply(o, e);
                                    });
                                };
                            }

                            (o.queue = []), (o.version = 2);
                            for (var s = ['Event', 'PageView', 'Exception', 'Trace', 'DependencyData', 'Metric', 'PageViewPerformance']; s.length; ) a('track' + s.pop());
                            var r = 'Track',
                                c = r + 'Page';
                            a('start' + c), a('stop' + c);
                            var u = r + 'Event';
                            if (
                                (a('start' + u),
                                a('stop' + u),
                                a('addTelemetryInitializer'),
                                a('setAuthenticatedUserContext'),
                                a('clearAuthenticatedUserContext'),
                                a('flush'),
                                (o.SeverityLevel = { Verbose: 0, Information: 1, Warning: 2, Error: 3, Critical: 4 }),
                                !(
                                    !0 === n.disableExceptionTracking ||
                                    (n.extensionConfig &&
                                        n.extensionConfig.ApplicationInsightsAnalytics &&
                                        !0 === n.extensionConfig.ApplicationInsightsAnalytics.disableExceptionTracking)
                                ))
                            ) {
                                a('_' + (s = 'onerror'));
                                var p = e[s];
                                (e[s] = function (e, n, t, i, a) {
                                    var r = p && p(e, n, t, i, a);
                                    return !0 !== r && o['_' + s]({ message: e, url: n, lineNumber: t, columnNumber: i, error: a }), r;
                                }),
                                    (n.autoExceptionInstrumented = !0);
                            }
                            return o;
                        })(data);
                (window[aiName] = aisdk).queue && 0 === aisdk.queue.length && aisdk.trackPageView({});
            }
        })
        .catch((error) => {
            console.error('There has been a problem with your fetch operation:', error);
        });
</script>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
        <meta name="theme-color" content="#000000" />
        <base href="%PUBLIC_URL%/" />
        <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
        <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
        <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.png" />
        <link rel="mask-icon" href="%PUBLIC_URL%/icon.svg" color="black" />
        <link rel="icon" type="image/svg+xml" href="%PUBLIC_URL%/favicon.svg" />
        <link rel="stylesheet" href="https://unpkg.com/react-vis/dist/style.css" />
        <title>Atoms Time</title>
    </head>
    <body>
        <noscript>
            You need to enable JavaScript to run this app.
        </noscript>
        <div id="root"></div>
    </body>
</html>
